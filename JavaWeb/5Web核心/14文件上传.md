### 1.简介
![[file-20251228162023407.png]]

### 2.要点

前端页面的三要素：    
![[file-20251228162215306.png]]

服务器端要素：    
![[file-20251228162707685.png]]
* **后端需要必须声明一个MultipartFile对象来接受该文件。并且形参变量的形参名需要与前端变量名相同**

### 3.使用方式

##### ①本地存储
![[file-20251228165026970.png]]
* **通过multipart.transferTo(File file)将内容上传到指定路径。通过getOriginalFilename()获取原始文件名**
* 由于默认情况下如果上传两个文件如果文件名相同，后一个则会覆盖前一个的文件。**所以此处需要使用UUID来作为文件名，避免文件覆盖，同时需要动态获得后缀名**。
* **Spring Boot默认上传的单个文件大小限制为1MB，上传所有文件大小为10MB。如果需要上传大文件则需要进行修改。**  
	![[file-20251228165512674.png]]

##### ②云端存储——以阿里云OSS存储为例
![[file-20251228170052437.png]]

###### 使用步骤：   
![[file-20251228170420657.png]]
* 具体步骤直接去csdn上搜索如何去做即可。
* 引入的sdk如下所示
```xml
<dependency>  
    <groupId>com.aliyun.oss</groupId>  
    <artifactId>aliyun-sdk-oss</artifactId>  
    <version>3.17.4</version>  
</dependency>
```
###### 入门程序（建议查看官方文档进行操作[OSS Java SDK V1-对象存储-阿里云](https://help.aliyun.com/zh/oss/developer-reference/oss-java-sdk/?spm=a2c4g.11186623.help-menu-31815.d_1_1_1.312c524653adQb&scm=20140722.H_32008._.OR_help-T_cn~zh-V_1#6ec007d7a2hga)）
![[file-20251228224123919.png]]
![[file-20251228224439808.png]]
* 创建OSSClient实例的代码不需要动，直接套模板即可。
* **有用的代码只有创建PutObjectRequest对象和ossClient.putObject()两句，一个用于构建创建文件的请求，一个执行上传文件的动作.**

###### 程序集成

文件上传思路：  
![[file-20251228225719091.png]]

实现步骤：  
![[file-20251228225948414.png]]
![[file-20251228231256511.png]]
![[file-20251228232018110.png]]![[file-20251228232652890.png]]
* 注意实际情况中endpoint配置时起那么不需要加https://。所以下面的代码在这方面也有一定的错误，能看懂原理就好。


具体代码（一般会将相关代码写成一个工具类，相关信息配置到application.yml中）：   
![[file-20251228232922916.png]]![[file-20251228233014274.png]]
![[file-20251228233043948.png]]