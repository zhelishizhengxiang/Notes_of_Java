
# 一.购买阿里云服务器
## 1.注册阿里云账号
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343104889-d5a79aa1-5531-4dfe-931a-570d733b5c8f.png#averageHue=%23fbf8f6&clientId=ucbef7c07-5cc7-4&from=paste&height=367&id=u14853d11&originHeight=367&originWidth=832&originalType=binary&ratio=1&rotation=0&showTitle=false&size=65547&status=done&style=shadow&taskId=u71429d74-6b04-4c5b-8180-1dd721e5cbb&title=&width=832)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343146432-07d1d822-cd26-4cf3-8ee9-484874ba6719.png#averageHue=%23ede5dc&clientId=ucbef7c07-5cc7-4&from=paste&height=428&id=u75c9141a&originHeight=428&originWidth=1895&originalType=binary&ratio=1&rotation=0&showTitle=false&size=179229&status=done&style=shadow&taskId=ub023a55b-1b75-4109-8d49-1ba394f0724&title=&width=1895)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343197479-24cb1df5-a491-4a71-9714-44a962d9be8c.png#averageHue=%23f4ede7&clientId=ucbef7c07-5cc7-4&from=paste&height=725&id=u9765f88f&originHeight=725&originWidth=1740&originalType=binary&ratio=1&rotation=0&showTitle=false&size=356088&status=done&style=shadow&taskId=ud5f0d3fd-72b9-4199-8526-17c2293dbaf&title=&width=1740)



![无标题.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343625845-10aa1357-7fda-47c5-9652-e5220a0ac73e.png#averageHue=%23f3ede9&clientId=ucbef7c07-5cc7-4&from=paste&height=526&id=u7479d1fc&originHeight=526&originWidth=790&originalType=binary&ratio=1&rotation=0&showTitle=false&size=45512&status=done&style=shadow&taskId=udd58f28b-55fa-4761-a357-8d13401e504&title=&width=790)
![无标题.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343675300-2cfe0d16-a96c-4b60-8d57-fecb721ace09.png#averageHue=%23fef6f0&clientId=ucbef7c07-5cc7-4&from=paste&height=506&id=u482c2d26&originHeight=506&originWidth=762&originalType=binary&ratio=1&rotation=0&showTitle=false&size=13023&status=done&style=shadow&taskId=uf1fa1f9b-6861-4baf-8944-43a24899252&title=&width=762)



![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343325117-185ea4fc-b679-4aae-8647-d4c367302092.png#averageHue=%23fcf5ef&clientId=ucbef7c07-5cc7-4&from=paste&height=625&id=u615ac640&originHeight=625&originWidth=1878&originalType=binary&ratio=1&rotation=0&showTitle=false&size=135148&status=done&style=shadow&taskId=u3b870199-3b20-4d46-aa1f-35186f792f5&title=&width=1878)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343356484-04f7b7bb-e782-45cf-8ffe-7697e7a5ebcc.png#averageHue=%23fdfcfb&clientId=ucbef7c07-5cc7-4&from=paste&height=548&id=uf9de3455&originHeight=548&originWidth=1800&originalType=binary&ratio=1&rotation=0&showTitle=false&size=53512&status=done&style=shadow&taskId=u89f99aa7-d012-49e8-9778-63bd3577840&title=&width=1800)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343392778-7d97b811-4745-48f9-ae4d-ca1366cbb79d.png#averageHue=%23e5e3e2&clientId=ucbef7c07-5cc7-4&from=paste&height=429&id=u256ab0d6&originHeight=429&originWidth=801&originalType=binary&ratio=1&rotation=0&showTitle=false&size=16779&status=done&style=shadow&taskId=u7254fa4f-1765-4440-82f6-8faf09bec89&title=&width=801)



![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343411255-1f702ec7-ebc5-46a2-b0c2-50d7989722ee.png#averageHue=%23a78e63&clientId=ucbef7c07-5cc7-4&from=paste&height=534&id=u68137229&originHeight=534&originWidth=723&originalType=binary&ratio=1&rotation=0&showTitle=false&size=324517&status=done&style=shadow&taskId=u716d1e71-5033-4cee-a895-06e3bfbcb4d&title=&width=723)
![无标题.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690343713493-c69a8008-66d8-4616-bb1d-81e3870bd057.png#averageHue=%23e1dab1&clientId=ucbef7c07-5cc7-4&from=paste&height=745&id=ub25af567&originHeight=745&originWidth=1073&originalType=binary&ratio=1&rotation=0&showTitle=false&size=52892&status=done&style=shadow&taskId=ubf3bed12-1df2-4526-bc90-39f556dcb8b&title=&width=1073)

到此，阿里云账号注册成功，并且进行了个人的实名认证。可以开始使用阿里云了。


## 2.购买阿里云服务器
阿里云首页   
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690348330933-ca4785ce-cbcb-44db-a188-01f873af5ecb.png#averageHue=%23e6dfba&clientId=ucbef7c07-5cc7-4&from=paste&height=666&id=u1220d896&originHeight=666&originWidth=959&originalType=binary&ratio=1&rotation=0&showTitle=false&size=77099&status=done&style=shadow&taskId=ucf2d4be1-1f84-4ef9-9b81-61023801c2c&title=&width=959)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690348444343-4f42456f-efd1-4d54-892e-e659869660aa.png#averageHue=%23f8f3ee&clientId=ucbef7c07-5cc7-4&from=paste&height=590&id=ud9f4ec4d&originHeight=590&originWidth=1013&originalType=binary&ratio=1&rotation=0&showTitle=false&size=338184&status=done&style=shadow&taskId=u217ce0cc-e1dd-4b35-bea3-0a033260f65&title=&width=1013)



这里可以选择免费试用，也可以立即购买，根据自己情况而定，我这里采用免费试用：   

![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690350761704-8bd038aa-c4dc-4757-88de-45078a0e8f7e.png#averageHue=%23fcf7f6&clientId=ucbef7c07-5cc7-4&from=paste&height=741&id=ua858199e&originHeight=741&originWidth=1187&originalType=binary&ratio=1&rotation=0&showTitle=false&size=84903&status=done&style=shadow&taskId=ucee7fdac-0ed6-48b2-ab89-ba6fb4ed370&title=&width=1187)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690350817138-da4afa6d-0682-48a1-8f9b-795b90d7f5c4.png#averageHue=%23fbf8f7&clientId=ucbef7c07-5cc7-4&from=paste&height=430&id=u461277c8&originHeight=430&originWidth=1083&originalType=binary&ratio=1&rotation=0&showTitle=false&size=61888&status=done&style=shadow&taskId=u3d5dca9b-2eaf-4488-ae6e-cf4907b8df3&title=&width=1083)

创建的实例是这样的：你需要记住这个公网IP。   
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690440018470-f457bd16-6d75-4809-81d1-6fe40b14197c.png#averageHue=%23fcfcfb&clientId=u7880c852-8714-4&from=paste&height=407&id=u15d221df&originHeight=407&originWidth=1850&originalType=binary&ratio=1&rotation=0&showTitle=false&size=55446&status=done&style=shadow&taskId=u351a4ba3-bf7b-481a-a368-471961afab8&title=&width=1850)
管理员：root，新建的实例需要设置密码：  
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690440075999-32ec9939-c3ad-4723-84a2-023391ccac84.png#averageHue=%23f7f7f6&clientId=u7880c852-8714-4&from=paste&height=636&id=u39512717&originHeight=636&originWidth=769&originalType=binary&ratio=1&rotation=0&showTitle=false&size=68328&status=done&style=shadow&taskId=u322d7b15-88a1-41a5-8db7-93c3d6884c1&title=&width=769)


## 3.使用xshell/xftp连接阿里云服务器
默认情况下阿里云服务器的“密码认证”是没有开启的。需要通过修改相关配置，来开启“密码认证”。
在阿里云服务器实例中找到如下图的VNC连接：  
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690447058866-5c65c41d-b349-4357-af13-90e89ccbe1e0.png#averageHue=%23fbfbfa&clientId=u7880c852-8714-4&from=paste&height=454&id=udb18f5de&originHeight=454&originWidth=1593&originalType=binary&ratio=1&rotation=0&showTitle=false&size=67094&status=done&style=shadow&taskId=uda0b41b5-d4e2-4762-9e77-2d3185d1bc5&title=&width=1593)
然后输入用户名root和密码。登录成功之后找到该文件：/etc/ssh/sshd_config
使用vim编辑sshd_config文件中的“passwordAuthcation”，将no修改为yes。
重启sshd服务：service sshd restart
此时采用xshell/xftp就可以使用密码的方式连接阿里云服务器了。


# 二、使用宝塔面板安装软件及部署项目
在centos操作系统上安装宝塔面板（这个安装脚本可以在宝塔面板官网获取）：
```shell
yum install -y wget && wget -O install.sh https://download.bt.cn/install/install_6.0.sh && sh install.sh ed8484bec
```
宝塔面板安装成功后，会有如下信息：
```
外网面板地址: https://39.105.26.215:10710/718e1e35
内网面板地址: https://172.25.179.225:10710/718e1e35
username: uck3itew
password: 3268d738
```
通过以上宝塔面板地址得知使用的端口是10710，所以需要在阿里云服务器上开放该端口（配置安全组）：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690447528154-624e070d-f9df-4f37-9df1-38b7cdaa2a7d.png#averageHue=%23fdfdfc&clientId=u7880c852-8714-4&from=paste&height=674&id=ua3de78e7&originHeight=674&originWidth=1798&originalType=binary&ratio=1&rotation=0&showTitle=false&size=53910&status=done&style=shadow&taskId=uce998c14-84c5-4b1d-a35a-1dcbdcda4a8&title=&width=1798)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690447563332-1e2f5a47-74ec-48b4-8614-c94f842b852a.png#averageHue=%23fdfbfa&clientId=u7880c852-8714-4&from=paste&height=365&id=u24c4bbf8&originHeight=365&originWidth=1469&originalType=binary&ratio=1&rotation=0&showTitle=false&size=40525&status=done&style=shadow&taskId=u3dbec33c-93bf-494f-bd2d-5fbcd9e38ef&title=&width=1469)



访问宝塔面板：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690451476044-defdafe4-6d95-4f77-8b06-947843b73c5c.png#averageHue=%23fefdfd&clientId=u7880c852-8714-4&from=paste&height=822&id=ua52b1434&originHeight=822&originWidth=1184&originalType=binary&ratio=1&rotation=0&showTitle=false&size=49847&status=done&style=shadow&taskId=u54b14bc2-8901-4720-b4bc-0e7962e8d60&title=&width=1184)
输入用户名和密码登录宝塔面板：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690451497475-950766c3-36b9-4504-b2a4-8da094d2150b.png#averageHue=%23858585&clientId=u7880c852-8714-4&from=paste&height=633&id=uf8da85a6&originHeight=633&originWidth=680&originalType=binary&ratio=1&rotation=0&showTitle=false&size=20662&status=done&style=shadow&taskId=u08c79be3-3db3-4447-9443-a011fdae0c7&title=&width=680)



注册宝塔账号并绑定：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690451542486-fa1ac9d0-cedc-455a-9b88-4c26e7fece9e.png#averageHue=%23fcfcfb&clientId=u7880c852-8714-4&from=paste&height=644&id=ud2481acf&originHeight=644&originWidth=1384&originalType=binary&ratio=1&rotation=0&showTitle=false&size=55992&status=done&style=shadow&taskId=u5577051f-8c2e-4b9b-bb14-8905675b093&title=&width=1384)
宝塔Linux面板的左侧菜单中找：软件商店
搜索tomcat，安装tomcat9，会自动关联安装JDK8。
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690523617851-3b8906ad-6031-434b-bdee-665d53a8bf58.png#averageHue=%23fbf7f4&clientId=u2bdb69c5-937c-4&from=paste&height=527&id=uf7f46cb0&originHeight=527&originWidth=1704&originalType=binary&ratio=1&rotation=0&showTitle=false&size=73726&status=done&style=shadow&taskId=u6deed666-9d15-4187-8307-d59d4766e72&title=&width=1704)
JDK8也有了：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690523670400-7b23a16f-6588-46b3-bc2d-5f0e32be4877.png#averageHue=%233b3835&clientId=u2bdb69c5-937c-4&from=paste&height=171&id=ubb3ee90a&originHeight=171&originWidth=461&originalType=binary&ratio=1&rotation=0&showTitle=false&size=11590&status=done&style=shadow&taskId=ucbe2deb7-e159-4fa3-8956-984823d7293&title=&width=461)



搜索mysql，安装mysql。
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690523637808-4afe8111-f9f4-4cfc-9e0b-066ef72f0958.png#averageHue=%23fbf8f5&clientId=u2bdb69c5-937c-4&from=paste&height=684&id=u14bd966a&originHeight=684&originWidth=1708&originalType=binary&ratio=1&rotation=0&showTitle=false&size=106873&status=done&style=shadow&taskId=u95bb4bbc-dec4-47e3-a6bd-072da313b84&title=&width=1708)

**注意：阿里云服务器有两个防火墙，一个是阿里云服务器自带的防火墙，在安全组中进行放行设置。阿里云服务器中安装的centos操作系统也会有一个防火墙，要访问tomcat服务器的话，centos操作系统中的防火墙也要放行8080端口：这个需要在宝塔中进行配置，如下：**
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690530429125-a95b0733-5b1e-452e-8212-ae9298c3bc59.png#averageHue=%23e3bf8c&clientId=u2bdb69c5-937c-4&from=paste&height=679&id=u30beb1e7&originHeight=679&originWidth=925&originalType=binary&ratio=1&rotation=0&showTitle=false&size=72252&status=done&style=shadow&taskId=u82361abf-a0bf-40ea-8d9b-580a9dbabce&title=&width=925)
这样tomcat服务器就可以访问了：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690530464412-e3190370-3280-4ce2-a5b6-0d34acbda71d.png#averageHue=%23e8efc6&clientId=u2bdb69c5-937c-4&from=paste&height=505&id=u77a45881&originHeight=505&originWidth=981&originalType=binary&ratio=1&rotation=0&showTitle=false&size=73758&status=done&style=shadow&taskId=uee4af2ab-752c-431f-83f7-de41a1857ae&title=&width=981)



mysql数据库的3306端口同样需要在宝塔中放行。这样mysql数据库才可以连接：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690532202584-6d04c3be-1bc3-4da7-bcfe-406b48777c66.png#averageHue=%23fbf9f9&clientId=u2bdb69c5-937c-4&from=paste&height=495&id=u6149bc7f&originHeight=495&originWidth=869&originalType=binary&ratio=1&rotation=0&showTitle=false&size=38323&status=done&style=shadow&taskId=uc39c1c32-9460-439d-895d-48ed30a7f13&title=&width=869)
使用navicat for mysql连接mysql数据库，报错信息如下：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690532666748-f6316f71-8754-4ac4-a75d-2bb197984760.png#averageHue=%23f2f0f0&clientId=u2bdb69c5-937c-4&from=paste&height=192&id=u9052f6ca&originHeight=192&originWidth=585&originalType=binary&ratio=1&rotation=0&showTitle=false&size=6853&status=done&style=shadow&taskId=u5d772a51-34e8-43e1-8ad6-d25f3181de1&title=&width=585)

解决办法：
第一步：root身份登录mysql
第二步：use mysql;
第三步：update user set host='%' where user='root';
第四部：flush privileges;

然后使用navicat for mysql就可以连接mysql数据库了：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690535601577-7c6bd592-8002-432b-9730-6a79cc77ef34.png#averageHue=%23fbfbfb&clientId=u2bdb69c5-937c-4&from=paste&height=484&id=u82363be7&originHeight=484&originWidth=759&originalType=binary&ratio=1&rotation=0&showTitle=false&size=17153&status=done&style=shadow&taskId=u5864bcd0-a033-4c32-89f8-6201195753e&title=&width=759)

初始化数据库：将提前准备好的oa.sql文件初始化到数据库当中。表emp表。确保表中有数据。
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690540767390-21091cce-de43-4d05-8101-5693b51c5067.png#averageHue=%23f6f6f5&clientId=u2bdb69c5-937c-4&from=paste&height=209&id=u699aef94&originHeight=209&originWidth=617&originalType=binary&ratio=1&rotation=0&showTitle=false&size=20164&status=done&style=shadow&taskId=u15cdd67b-b5df-45bf-9ab7-392c37ae7ef&title=&width=617)



将war包放到tomcat服务器的webapps目录下，启动tomcat服务器之后war包自动解压。
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690540783249-d2c54a01-a5db-494e-9716-b154d27d5bd4.png#averageHue=%23fafaf9&clientId=u2bdb69c5-937c-4&from=paste&height=489&id=u16d470ed&originHeight=489&originWidth=659&originalType=binary&ratio=1&rotation=0&showTitle=false&size=35367&status=done&style=shadow&taskId=ucfdc9b98-77ee-45ac-b323-5f62865ebb6&title=&width=659)

启动tomcat服务器，在浏览器上访问：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21376908/1690540746702-82a3d5e9-937e-444d-9127-fd448c9ef7ff.png#averageHue=%23fcfcfb&clientId=u2bdb69c5-937c-4&from=paste&height=243&id=u5f4c3adf&originHeight=243&originWidth=738&originalType=binary&ratio=1&rotation=0&showTitle=false&size=13649&status=done&style=shadow&taskId=ub0450e68-6494-4d5e-9a5f-9e8794df037&title=&width=738)


